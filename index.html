<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>卡特尔 16PF 人格测试</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .question-card {
            transition: all 0.3s ease;
        }
        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .answer-option {
            transition: all 0.2s ease;
        }
        .answer-option:hover {
            background-color: #EFF6FF;
            border-color: #3B82F6;
        }
        .answer-option.selected {
            background-color: #DBEAFE;
            border-color: #2563EB;
            font-weight: 600;
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- 欢迎页面 -->
    <div id="welcomePage" class="min-h-screen flex items-center justify-center p-8">
        <div class="max-w-4xl w-full">
            <div class="bg-white rounded-2xl shadow-2xl p-8 sm:p-12">
                <div class="text-center mb-10">
                    <h1 class="text-5xl font-extrabold text-blue-800 mb-4">卡特尔 16PF 人格测试</h1>
                    <p class="text-2xl text-gray-600 mb-8">卡特尔的16种人格因素测评</p>
                </div>
                
                <div class="bg-blue-50 rounded-xl p-6 mb-8 border-l-4 border-blue-600">
                    <h2 class="text-2xl font-bold text-blue-900 mb-4">📋 测试说明</h2>
                    <div class="space-y-3 text-gray-700 text-lg">
                        <p>• 本测试包含 187 道题目，评估 16 种人格因素</p>
                        <p>• 每题有 3 个选项（A、B、C），请选择最符合您情况的答案</p>
                        <p>• 测试时间约 30-40 分钟</p>
                        <p>• 请根据自己的真实情况作答</p>
                        <p>• 结果将生成详细的人格分析报告</p>
                    </div>
                </div>

                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="startTest()" class="px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white text-xl font-bold rounded-xl shadow-lg transition duration-300 transform hover:scale-105">
                        🎯 开始完整测试
                    </button>
                    <button onclick="quickDemo()" class="px-8 py-4 bg-green-600 hover:bg-green-700 text-white text-xl font-bold rounded-xl shadow-lg transition duration-300 transform hover:scale-105">
                        ⚡ 一键模拟测试（快速体验）
                    </button>
                </div>

                <div class="mt-8 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                    <p class="text-sm text-yellow-800">
                        💡 <strong>温馨提示：</strong>点击"一键模拟测试"可以快速体验完整的测试流程和结果展示，系统会自动模拟答题过程。
                    </p>
                </div>

                <!-- 16种人格因素说明 -->
                <div class="mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 text-sm">
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">A: 乐群性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">B: 聪慧性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">C: 稳定性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">E: 恃强性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">F: 兴奋性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">G: 有恒性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">H: 敢为性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">I: 敏感性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">L: 怀疑性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">M: 幻想性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">N: 世故性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">O: 忧虑性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">Q1: 变革性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">Q2: 自主性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">Q3: 完善性</div>
                    <div class="p-3 bg-gray-50 rounded-lg text-center font-semibold text-gray-700">Q4: 紧张性</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 测试页面 -->
    <div id="testPage" class="min-h-screen p-4 sm:p-8 hidden">
        <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-xl p-6 sm:p-10">
            <!-- 进度条 -->
            <div class="mb-6">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-gray-600" id="progressText">进度: 0 / 187</span>
                    <span class="text-sm font-medium text-gray-600" id="percentText">0%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div class="progress-bar bg-blue-600 h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>

            <!-- 题目显示 -->
            <div id="questionContainer" class="question-card bg-white p-6 rounded-lg shadow-lg border-2 border-gray-200 mb-6">
                <!-- 题目将动态生成 -->
            </div>

            <!-- 题目导航 -->
            <div class="flex justify-between items-center">
                <button onclick="previousQuestion()" class="px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition duration-200" id="prevBtn">
                    上一题
                </button>
                <button onclick="submitTest()" class="px-8 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition duration-200 shadow-lg" id="submitBtn" style="display: none;">
                    提交测试
                </button>
                <button onclick="nextQuestion()" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-200" id="nextBtn">
                    下一题
                </button>
            </div>
        </div>
    </div>

    <!-- 结果页面 -->
    <div id="resultPage" class="min-h-screen p-4 sm:p-8 hidden">
        <!-- 结果内容将在结果页面加载 -->
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script>
        // 完整的187道16PF测试题目
        const questions = [
            { id: 1, question: '我很明了本测验的说明', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'none', noScore: true },
            { id: 2, question: '我对本测验的每一个问题，都能做到诚实地回答', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'none', noScore: true },
            { id: 3, question: '如果我有机会的话，我愿意', options: ['A.到一个繁华的城市去旅行', 'B.介于A、C之间', 'C.游览清净的山区'], factor: 'A', scores: { A: 2, B: 1, C: 0 } },
            { id: 4, question: '我有能力应付各种困难', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'C', scores: { A: 2, B: 1, C: 0 } },
            { id: 5, question: '即使是关在铁笼里的猛兽，我见了也会惴惴不安', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'C', scores: { A: 0, B: 1, C: 2 } },
            { id: 6, question: '我总是不敢大胆批评别人的言行', options: ['A.是的', 'B.有时如此', 'C.不是的'], factor: 'E', scores: { A: 0, B: 1, C: 2 } },
            { id: 7, question: '我的思想似乎', options: ['A.比较先进', 'B.一般', 'C.比较保守'], factor: 'E', scores: { A: 2, B: 1, C: 0 } },
            { id: 8, question: '我不擅长说笑话、讲趣事', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'F', scores: { A: 0, B: 1, C: 2 } },
            { id: 9, question: '当我见到亲友或邻居争吵时，我总是', options: ['A.任其自己解决', 'B.介于A、C之间', 'C.予以解决'], factor: 'G', scores: { A: 0, B: 1, C: 2 } },
            { id: 10, question: '在群众集会中', options: ['A.我谈吐自如', 'B.介于A、C之间', 'C.我保持沉默'], factor: 'H', scores: { A: 2, B: 1, C: 0 } },
            { id: 11, question: '我愿意', options: ['A.做建筑工程师', 'B.不确定', 'C.做社会科学教授'], factor: 'I', scores: { A: 2, B: 1, C: 0 } },
            { id: 12, question: '阅读时，我喜欢', options: ['A.读自然科学书籍', 'B.不确定', 'C.读政治理论书籍'], factor: 'I', scores: { A: 2, B: 1, C: 0 } },
            { id: 13, question: '我认为很多人都有些心理不正常，只是他们不愿意承认', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'L', scores: { A: 2, B: 1, C: 0 } },
            { id: 14, question: '我希望我的爱人擅长交际，无须具有文艺才能', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'M', scores: { A: 0, B: 1, C: 2 } },
            { id: 15, question: '对于性情急躁、爱发脾气的人，我仍以礼相待', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'M', scores: { A: 0, B: 1, C: 2 } },
            { id: 16, question: '受人侍奉时我常常局促不安', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'N', scores: { A: 0, B: 1, C: 2 } },
            { id: 17, question: '在从事体力或脑力劳动之后，我总是需要有比别人更多的休息时间才能保持工作效率', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'N', scores: { A: 2, B: 1, C: 0 } },
            { id: 18, question: '半夜醒来，我常会惴虑不安而不能再入睡', options: ['A.常常如此', 'B.有时如此', 'C.极少如此'], factor: 'O', scores: { A: 2, B: 1, C: 0 } },
            { id: 19, question: '事情进行得不顺利时，我常常急得涕泪交流', options: ['A.从不如此', 'B.有时如此', 'C.常常如此'], factor: 'O', scores: { A: 0, B: 1, C: 2 } },
            { id: 20, question: '我认为只要双方同意，就可以离婚，不要受传统观念的束缚', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q1', scores: { A: 2, B: 1, C: 0 } },
            { id: 21, question: '我对人或物的兴趣，都很容易改变', options: ['A.是的', 'B.不能肯定', 'C.不是的'], factor: 'Q1', scores: { A: 2, B: 1, C: 0 } },
            { id: 22, question: '在工作中，我愿意', options: ['A.和别人合作', 'B.不确定', 'C.自己单独进行'], factor: 'Q2', scores: { A: 0, B: 1, C: 2 } },
            { id: 23, question: '我常常会无缘无故地自言自语', options: ['A.常常如此', 'B.偶然如此', 'C.从不如此'], factor: 'Q3', scores: { A: 0, B: 1, C: 2 } },
            { id: 24, question: '无论是工作、饮食或外出游览，我总是', options: ['A.匆匆忙忙，不能尽兴', 'B.介于A、C之间', 'C.从容不迫'], factor: 'Q3', scores: { A: 0, B: 1, C: 2 } },
            { id: 25, question: '有时我怀疑别人是否对我的言行真正有兴趣', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 26, question: '如果我在工厂里工作，我愿做', options: ['A.技术科工作', 'B.介于A、C之间', 'C.宣传科工作'], factor: 'A', scores: { A: 0, B: 1, C: 2 } },
            { id: 27, question: '在阅读时，我愿读有关', options: ['A.太空旅行的书籍', 'B.不太确定', 'C.家庭教育的书籍'], factor: 'A', scores: { A: 0, B: 1, C: 2 } },
            { id: 28, question: '下面列出的三个词哪个与其他两个单词不同类', options: ['A.狗', 'B.石头', 'C.牛'], factor: 'B', scores: { A: 0, B: 1, C: 0 } },
            { id: 29, question: '如果我能到一个新的环境，我要把生活安排得', options: ['A.和从前不一样', 'B.不确定', 'C.和从前相仿'], factor: 'C', scores: { A: 0, B: 1, C: 2 } },
            { id: 30, question: '在一生中，我觉得自己能达到我所预期的目标', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'C', scores: { A: 2, B: 1, C: 0 } },
            { id: 31, question: '当我说谎时，总觉得内心羞愧，不敢正视对方', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'E', scores: { A: 0, B: 1, C: 2 } },
            { id: 32, question: '假使我手里拿着一支装有子弹的手枪，我必须把子弹拿出来才安心', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'E', scores: { A: 0, B: 1, C: 2 } },
            { id: 33, question: '多数人认为我是一个说话风趣的人', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'F', scores: { A: 2, B: 1, C: 0 } },
            { id: 34, question: '如果人们知道我内心的成见，他们会大吃一惊', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'G', scores: { A: 0, B: 1, C: 2 } },
            { id: 35, question: '在公共场合，如果我突然成为大家注意的中心，我会感到局促不安', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'H', scores: { A: 0, B: 1, C: 2 } },
            { id: 36, question: '我总喜欢参加规模庞大的晚会或集会', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'H', scores: { A: 2, B: 1, C: 0 } },
            { id: 37, question: '在学科中，我喜欢', options: ['A.音乐', 'B.不一定', 'C.手工劳动'], factor: 'I', scores: { A: 2, B: 1, C: 0 } },
            { id: 38, question: '我常常怀疑那些出乎我意料、对我过于友善的人的诚实动机', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'L', scores: { A: 2, B: 1, C: 0 } },
            { id: 39, question: '我愿意把我的生活安排得像一个', options: ['A.艺术家那样', 'B.不确定', 'C.会计师那样'], factor: 'M', scores: { A: 2, B: 1, C: 0 } },
            { id: 40, question: '我认为目前所需要的是', options: ['A.多出现一些改造世界的理想家', 'B.不确定', 'C.脚踏实地的实干家'], factor: 'M', scores: { A: 2, B: 1, C: 0 } },
            { id: 41, question: '有时候我觉得我需要剧烈的体力活动', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'N', scores: { A: 0, B: 1, C: 2 } },
            { id: 42, question: '我愿意跟有教养的人来往，而不愿意同鲁莽的人交往', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'N', scores: { A: 2, B: 1, C: 0 } },
            { id: 43, question: '在处理必须凭借智慧的事务中，我的亲人的确', options: ['A.比一般人差', 'B.普通', 'C.超人一等'], factor: 'O', scores: { A: 2, B: 1, C: 0 } },
            { id: 44, question: '当领导召见我时，我', options: ['A.觉得可以趁机提出建议', 'B.介于A、C之间', 'C.总怀疑自己做错了事'], factor: 'O', scores: { A: 0, B: 1, C: 2 } },
            { id: 45, question: '如果待遇优厚，我愿意做护理精神病人的工作', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q1', scores: { A: 0, B: 1, C: 2 } },
            { id: 46, question: '读报时，我喜欢读', options: ['A.当前世界上的基本问题', 'B.介于A、C之间', 'C.地方新闻'], factor: 'Q1', scores: { A: 2, B: 1, C: 0 } },
            { id: 47, question: '在接受困难任务时，我总是', options: ['A.有独立完成的信心', 'B.不确定', 'C.希望有别人帮助和指导'], factor: 'Q2', scores: { A: 2, B: 1, C: 0 } },
            { id: 48, question: '在游览时，我宁愿参观一个画家的写生，也不愿听人家的辩论', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'Q3', scores: { A: 2, B: 1, C: 0 } },
            { id: 49, question: '我的神经脆弱，稍有一点刺激就会使我战栗', options: ['A.时常如此', 'B.有时如此', 'C.从不如此'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 50, question: '早晨起来，我常常感到疲乏不堪', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 51, question: '如果待遇相同，我愿选做', options: ['A.森林管理员', 'B.不一定', 'C.中小学教员'], factor: 'A', scores: { A: 0, B: 1, C: 2 } },
            { id: 52, question: '每逢过节或亲友结婚时，我', options: ['A.喜欢赠送礼品', 'B.不太确定', 'C.不愿相互送礼'], factor: 'A', scores: { A: 2, B: 1, C: 0 } },
            { id: 53, question: '本题目下面选项中所列出的三个数字中，哪个数字与其他两个数字不同类', options: ['A.5', 'B.2', 'C.7'], factor: 'B', scores: { A: 0, B: 1, C: 0 } },
            { id: 54, question: '猫和鱼就像', options: ['A.牛和牛奶', 'B.牛和牧草', 'C.牛和盐'], factor: 'B', scores: { A: 0, B: 1, C: 0 } },
            { id: 55, question: '我在小学时候敬佩的老师到现在仍然值得我的敬佩', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'C', scores: { A: 2, B: 1, C: 0 } },
            { id: 56, question: '我觉得我确实有一些别人所不及的优良品质', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'E', scores: { A: 2, B: 1, C: 0 } },
            { id: 57, question: '根据我的能力，即使让我做一些平凡的工作，我也会安心的', options: ['A.是的', 'B.不太确定', 'C.不是的'], factor: 'E', scores: { A: 0, B: 1, C: 2 } },
            { id: 58, question: '我喜欢看电影或参加其他娱乐活动，比一般人', options: ['A.多', 'B.相同', 'C.少'], factor: 'F', scores: { A: 2, B: 1, C: 0 } },
            { id: 59, question: '我喜欢从事需要精密技术的工作', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'G', scores: { A: 2, B: 1, C: 0 } },
            { id: 60, question: '在有威望有地位的人面前，我总是局促谨慎', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'H', scores: { A: 0, B: 1, C: 2 } },
            { id: 61, question: '对我来说，在大众面前演讲或表演是一件难事', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'H', scores: { A: 0, B: 1, C: 2 } },
            { id: 62, question: '我愿意', options: ['A.指挥几个人工作', 'B.不确定', 'C.和同志们一起工作'], factor: 'I', scores: { A: 0, B: 1, C: 2 } },
            { id: 63, question: '即使我做了件让人笑话的事，我也能坦然处之', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'L', scores: { A: 0, B: 1, C: 2 } },
            { id: 64, question: '我认为，没有人会幸灾乐祸而希望我遇到困难', options: ['A.是的', 'B.不确定', 'C.不是的'], factor: 'L', scores: { A: 0, B: 1, C: 2 } },
            { id: 65, question: '一个人应该', options: ['A.考虑人生的真正意义', 'B.不确定', 'C.踏实工作和学习'], factor: 'M', scores: { A: 2, B: 1, C: 0 } },
            { id: 66, question: '我喜欢去处理被别人弄得一塌糊涂的工作', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'N', scores: { A: 0, B: 1, C: 2 } },
            { id: 67, question: '当我非常高兴时，总有一种好景不长的感觉', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'N', scores: { A: 0, B: 1, C: 2 } },
            { id: 68, question: '在一般困难的情境中，我总能保持乐观', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'O', scores: { A: 0, B: 1, C: 2 } },
            { id: 69, question: '迁居是一件极不愉快的事', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'O', scores: { A: 2, B: 1, C: 0 } },
            { id: 70, question: '在年轻的时候，当我和父母的意见不同时', options: ['A.保留自己的意见', 'B.介于A、C之间', 'C.接受父母的意见'], factor: 'Q1', scores: { A: 2, B: 1, C: 0 } },
            { id: 71, question: '我希望把我的家庭', options: ['A.建成适合自身活动和娱乐的地方', 'B.介于A、C之间', 'C.成为邻里交往的一部分'], factor: 'Q2', scores: { A: 2, B: 1, C: 0 } },
            { id: 72, question: '我解决问题时，多借助于', options: ['A.个人独立思考', 'B.介于A、C之间', 'C.和别人讨论'], factor: 'Q2', scores: { A: 2, B: 1, C: 0 } },
            { id: 73, question: '在需要当机立断时，我总是', options: ['A.镇静地运用理智', 'B.介于A、C之间', 'C.常紧张兴奋'], factor: 'Q3', scores: { A: 2, B: 1, C: 0 } },
            { id: 74, question: '最近在一两件事情上，我觉得我是无辜受累的', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 75, question: '我善于控制我的表情', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 0, B: 1, C: 2 } },
            { id: 76, question: '如果待遇相同，我愿意做一个', options: ['A.化学研究工作者', 'B.不确定', 'C.旅行社经理'], factor: 'A', scores: { A: 0, B: 1, C: 2 } },
            { id: 77, question: '以"惊讶"与"新奇"搭配为例，我认为', options: ['A."恐惧"与"勇敢"搭配', 'B."恐惧"与"焦虑"搭配', 'C."恐惧"与"恐怖"搭配'], factor: 'B', scores: { A: 0, B: 0, C: 1 } },
            { id: 78, question: '本题列出的三组数字，哪组数与其他两组不类同', options: ['A.3与7', 'B.3与9', 'C.3与11'], factor: 'B', scores: { A: 0, B: 1, C: 0 } },
            { id: 79, question: '不知为什么，有些人总是回避或冷淡我', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'C', scores: { A: 0, B: 1, C: 2 } },
            { id: 80, question: '我虽善意待人，但常常得不到好报', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'C', scores: { A: 0, B: 1, C: 2 } },
            { id: 81, question: '我不喜欢争强好胜的人', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'E', scores: { A: 0, B: 1, C: 2 } },
            { id: 82, question: '和一般人相比，我的朋友的确太少', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'F', scores: { A: 0, B: 1, C: 2 } },
            { id: 83, question: '不到万不得已的时候，我总是回避参加应酬性活动', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'F', scores: { A: 0, B: 1, C: 2 } },
            { id: 84, question: '我认为对领导逢迎得当，比工作表现更重要', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'G', scores: { A: 0, B: 1, C: 2 } },
            { id: 85, question: '竞赛时，我总看重竞赛的活动，而不计较成败', options: ['A.总是如此', 'B.一般如此', 'C.偶然如此'], factor: 'H', scores: { A: 0, B: 1, C: 2 } },
            { id: 86, question: '按照我个人的意愿，我希望做', options: ['A.有固定可靠工资收入的工作', 'B.介于A、C之间', 'C.工资高低应随我的工作表现而随时调整'], factor: 'H', scores: { A: 0, B: 1, C: 2 } },
            { id: 87, question: '我愿意阅读', options: ['A.军事与政治的实事记载', 'B.不一定', 'C.富有情感和幻想的作品'], factor: 'I', scores: { A: 0, B: 1, C: 2 } },
            { id: 88, question: '我认为，有许多人之所以不敢犯罪，其主要原因是怕被惩罚', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'L', scores: { A: 2, B: 1, C: 0 } },
            { id: 89, question: '我的父母从来不严格要求我事事顺从', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'L', scores: { A: 0, B: 1, C: 2 } },
            { id: 90, question: '百折不挠、再接再厉的精神，似乎被人们忽视', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'M', scores: { A: 2, B: 1, C: 0 } },
            { id: 91, question: '当有人对我发火时，我总是', options: ['A.设法使他镇静下来', 'B.不一定', 'C.自己也发起火来'], factor: 'M', scores: { A: 2, B: 1, C: 0 } },
            { id: 92, question: '我希望', options: ['A.人们都要友好相处', 'B.不一定', 'C.进行斗争'], factor: 'N', scores: { A: 0, B: 1, C: 2 } },
            { id: 93, question: '不论是在极高的屋顶，还是在极深的隧道中，我很少感到胆怯不安', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'O', scores: { A: 0, B: 1, C: 2 } },
            { id: 94, question: '只要无过错，不管别人怎么说，我总心安理得', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'O', scores: { A: 0, B: 1, C: 2 } },
            { id: 95, question: '我认为，凡是无法用理智来解决的问题，有时不得不用权力来处理', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q1', scores: { A: 0, B: 1, C: 2 } },
            { id: 96, question: '我在年轻的时候，和异性朋友交往较别人', options: ['A.多', 'B.介于A、C之间', 'C.少'], factor: 'Q2', scores: { A: 0, B: 1, C: 2 } },
            { id: 97, question: '我在社团活动中，是个活跃分子', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q2', scores: { A: 0, B: 1, C: 2 } },
            { id: 98, question: '在人声嘈杂中，我仍能不受干扰，专心工作', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q3', scores: { A: 2, B: 1, C: 0 } },
            { id: 99, question: '在某些心境下，我常常因为困惑或陷入空想而将工作搁置下来', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 100, question: '我很少用难看的语言去伤害别人的感情', options: ['A.是的', 'B.不太确定', 'C.不是的'], factor: 'Q4', scores: { A: 0, B: 1, C: 2 } },
            { id: 101, question: '如果让我选择，我宁愿选做', options: ['A.列车员', 'B.不确定', 'C.描图员'], factor: 'A', scores: { A: 2, B: 1, C: 0 } },
            { id: 102, question: '"理不胜词"的意思是', options: ['A.理不如词', 'B.辞藻华丽而理不足', 'C.理多而词少'], factor: 'B', scores: { A: 0, B: 0, C: 1 } },
            { id: 103, question: '以"铁锹"与"挖掘"搭配为例，我认为"刀子"应与', options: ['A."琢磨"搭配', 'B."切割"搭配', 'C."铲除"搭配'], factor: 'B', scores: { A: 0, B: 0, C: 1 } },
            { id: 104, question: '我在大街上，常常避开我所不愿打招呼的人', options: ['A.极少如此', 'B.偶然如此', 'C.有时如此'], factor: 'C', scores: { A: 0, B: 1, C: 2 } },
            { id: 105, question: '当我聚精会神地听音乐时，即使有人在旁边高谈阔论', options: ['A.我仍能专心听音乐', 'B.介于A、C之间', 'C.我为不能专心而感到恼怒'], factor: 'C', scores: { A: 2, B: 1, C: 0 } },
            { id: 106, question: '在课堂上，如果我的意见与老师不同，我常常', options: ['A.保持沉默', 'B.不一定', 'C.当场表明立场'], factor: 'E', scores: { A: 0, B: 1, C: 2 } },
            { id: 107, question: '我单独跟异性谈话时，总显得不自然', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'F', scores: { A: 0, B: 1, C: 2 } },
            { id: 108, question: '我在待人接物方面，的确不太成功', options: ['A.是的', 'B.不完全是这样', 'C.不是的'], factor: 'F', scores: { A: 0, B: 1, C: 2 } },
            { id: 109, question: '每当做一件困难工作时，我', options: ['A.总是预先做好准备', 'B.介于A、C之间', 'C.相信到时候总会有办法的'], factor: 'G', scores: { A: 2, B: 1, C: 0 } },
            { id: 110, question: '在我结交的朋友中，男女各占一半', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'H', scores: { A: 2, B: 1, C: 0 } },
            { id: 111, question: '我在结交朋友方面', options: ['A.结识很多的人', 'B.不一定', 'C.维持几个深交的朋友'], factor: 'H', scores: { A: 2, B: 1, C: 0 } },
            { id: 112, question: '我愿做一个社会科学家不愿做一个机械工程师', options: ['A.是的', 'B.不确定', 'C.不是的'], factor: 'I', scores: { A: 2, B: 1, C: 0 } },
            { id: 113, question: '若我发现别人的缺点，会不顾一切的予以指责', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'L', scores: { A: 2, B: 1, C: 0 } },
            { id: 114, question: '我善于设法影响和我一起工作的同事，使他们能协助我实现我所计划的目标', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'L', scores: { A: 2, B: 1, C: 0 } },
            { id: 115, question: '我喜欢做戏剧、音乐、歌舞、新闻采访等工作', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'M', scores: { A: 2, B: 1, C: 0 } },
            { id: 116, question: '当人们表扬我时，我总觉得羞愧窘促', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'M', scores: { A: 0, B: 1, C: 2 } },
            { id: 117, question: '我认为一个国家最需要解决的问题是', options: ['A.政治问题', 'B.不太确定', 'C.道德问题'], factor: 'N', scores: { A: 2, B: 1, C: 0 } },
            { id: 118, question: '有时我会无缘无故地产生一种面临大祸的恐惧', options: ['A.是的', 'B.有时如此', 'C.不是的'], factor: 'O', scores: { A: 2, B: 1, C: 0 } },
            { id: 119, question: '在我童年时，害怕黑暗的次数', options: ['A.极多', 'B.不太多', 'C.几乎没有'], factor: 'O', scores: { A: 2, B: 1, C: 0 } },
            { id: 120, question: '在闲暇的时候，我喜欢', options: ['A.看历史性探险电影', 'B.不一定', 'C.读科学性幻想小说'], factor: 'Q1', scores: { A: 0, B: 1, C: 2 } },
            { id: 121, question: '当人们批评我古怪不正常时，我', options: ['A.非常气恼', 'B.有些动气', 'C.无所谓'], factor: 'Q2', scores: { A: 0, B: 1, C: 2 } },
            { id: 122, question: '到一个新城市里去找地址', options: ['A.找人问路', 'B.介于A、C之间', 'C.参考市区地图'], factor: 'Q2', scores: { A: 0, B: 1, C: 2 } },
            { id: 123, question: '当朋友声明他要在家休息时 ，我总是设法怂恿他同我到外面游览', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'Q3', scores: { A: 0, B: 1, C: 2 } },
            { id: 124, question: '在就寝时我常常', options: ['A.不易入睡', 'B.介于A、C之间', 'C.容易入睡'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 125, question: '有人烦扰我时，我', options: ['A.不露声色', 'B.介于A、C之间', 'C.总要说给别人听'], factor: 'Q4', scores: { A: 0, B: 1, C: 2 } },
            { id: 126, question: '如果待遇相同，我愿做一个', options: ['A.律师', 'B.不确定', 'C.航海员'], factor: 'A', scores: { A: 2, B: 1, C: 0 } },
            { id: 127, question: '时间变成了永恒，这是比喻', options: ['A.时间过得很慢', 'B.忘了时间', 'C.光阴一去不复返'], factor: 'B', scores: { A: 0, B: 0, C: 1 } },
            { id: 128, question: '下面三项中，哪一项应接在"XOOOOXXOOOXXX"的后面', options: ['A.XOX', 'B.OOX', 'C.OXX'], factor: 'B', scores: { A: 0, B: 1, C: 0 } },
            { id: 129, question: '我无论到什么地方，都能清楚地辨别方向', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'C', scores: { A: 2, B: 1, C: 0 } },
            { id: 130, question: '我热爱我所学的专业和所从事的工作', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'C', scores: { A: 2, B: 1, C: 0 } },
            { id: 131, question: '如果我急于想借朋友的东西，而他又不在家，我认为不告而取也没关系', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'E', scores: { A: 2, B: 1, C: 0 } },
            { id: 132, question: '我喜欢向朋友讲述一些我个人有趣的经历', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'F', scores: { A: 2, B: 1, C: 0 } },
            { id: 133, question: '我宁愿做一个', options: ['A.演员', 'B.不确定', 'C.建筑师'], factor: 'F', scores: { A: 2, B: 1, C: 0 } },
            { id: 134, question: '业余时间，我总是做好安排，不使时间浪费', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'G', scores: { A: 2, B: 1, C: 0 } },
            { id: 135, question: '在和别人交往中，我常常会产生一种自卑感', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'H', scores: { A: 0, B: 1, C: 2 } },
            { id: 136, question: '和不熟悉的人交谈，对我来讲', options: ['A.毫不困难', 'B.介于A、C之间', 'C.比较困难'], factor: 'H', scores: { A: 2, B: 1, C: 0 } },
            { id: 137, question: '我所喜欢的音乐，多是', options: ['A.轻松活泼的', 'B.介于A、C之间', 'C.富有感情的'], factor: 'I', scores: { A: 0, B: 1, C: 2 } },
            { id: 138, question: '我爱想入非非', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'I', scores: { A: 2, B: 1, C: 0 } },
            { id: 139, question: '我认为未来二十年的世界局势，定将好转', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'L', scores: { A: 0, B: 1, C: 2 } },
            { id: 140, question: '在童年时，我喜欢阅读', options: ['A.神话幻想故事', 'B.不确定', 'C.战争故事'], factor: 'M', scores: { A: 2, B: 1, C: 0 } },
            { id: 141, question: '我向来都对机械、汽车等感兴趣', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'M', scores: { A: 0, B: 1, C: 2 } },
            { id: 142, question: '即使让我做一个缓刑释放的罪犯的管理人，我也会把工作做得较好', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'N', scores: { A: 2, B: 1, C: 0 } },
            { id: 143, question: '我仅仅被认为是一个能够苦干而稍有成就的人', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'O', scores: { A: 2, B: 1, C: 0 } },
            { id: 144, question: '就是在不顺利的情况下，我仍能保持精神振奋', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'O', scores: { A: 0, B: 1, C: 2 } },
            { id: 145, question: '我认为，节制生育是解决经济与和平问题的重要条件', options: ['A.是的', 'B.不太确定', 'C.不是的'], factor: 'Q1', scores: { A: 2, B: 1, C: 0 } },
            { id: 146, question: '在工作中，我喜欢独自筹划，不愿受别人干涉', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q2', scores: { A: 2, B: 1, C: 0 } },
            { id: 147, question: '尽管有人和我意见不和，但我仍能跟他团结', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'Q3', scores: { A: 2, B: 1, C: 0 } },
            { id: 148, question: '我在工作和学习上，总是设法使自己不粗心大意，忽略细节', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q3', scores: { A: 2, B: 1, C: 0 } },
            { id: 149, question: '在和人争辩或险遭事故后，我常表现出震颤、筋疲力尽，不能安心工作', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 150, question: '没有医生的处方，我是从不乱吃药的', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 151, question: '根据我个人的兴趣，我愿参加', options: ['A.摄影组活动', 'B.不确定', 'C.文娱组活动'], factor: 'A', scores: { A: 0, B: 1, C: 2 } },
            { id: 152, question: '以"星火"与"燎原"搭配为例，我认为"姑息"应为', options: ['A."同情"搭配', 'B."养奸"搭配', 'C."纵容"搭配'], factor: 'B', scores: { A: 0, B: 1, C: 0 } },
            { id: 153, question: '"钟表"与"时间"的关系，犹如"裁缝"与', options: ['A."服装"的关系', 'B."剪刀"的关系', 'C."布料"的关系'], factor: 'B', scores: { A: 0, B: 0, C: 1 } },
            { id: 154, question: '生动的梦境，常常干扰我的睡眠', options: ['A.经常如此', 'B.偶然如此', 'C.从不如此'], factor: 'C', scores: { A: 0, B: 1, C: 2 } },
            { id: 155, question: '我爱打抱不平', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'E', scores: { A: 2, B: 1, C: 0 } },
            { id: 156, question: '如果我要到一个新城市，我将要', options: ['A.到处闲逛', 'B.不确定', 'C.避免去危险的地方'], factor: 'E', scores: { A: 2, B: 1, C: 0 } },
            { id: 157, question: '我爱穿朴素的衣服，不愿穿华丽的服装', options: ['A.是的', 'B.不太确定', 'C.不是的'], factor: 'F', scores: { A: 0, B: 1, C: 2 } },
            { id: 158, question: '我认为，安静的娱乐远远胜过热闹的宴会', options: ['A.是的', 'B.不太确定', 'C.不是的'], factor: 'F', scores: { A: 0, B: 1, C: 2 } },
            { id: 159, question: '我明知自己有缺点，也不愿接受别人的批评', options: ['A.偶然如此', 'B.极少如此', 'C.从不如此'], factor: 'G', scores: { A: 0, B: 1, C: 2 } },
            { id: 160, question: '我总把"是、非、善、恶"作为处理问题的原则', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'G', scores: { A: 2, B: 1, C: 0 } },
            { id: 161, question: '当我工作时，我不喜欢有许多人在旁边参观', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'H', scores: { A: 0, B: 1, C: 2 } },
            { id: 162, question: '我认为，侮辱那些即使有错误的有教养的人，如医生、教师等，也是不应该的', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'I', scores: { A: 0, B: 1, C: 2 } },
            { id: 163, question: '在各种课程中,我喜欢', options: ['A.语文', 'B.不确定', 'C.数学'], factor: 'I', scores: { A: 2, B: 1, C: 0 } },
            { id: 164, question: '那些自以为是、道貌岸然的人，使我生气', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'L', scores: { A: 2, B: 1, C: 0 } },
            { id: 165, question: '和循规蹈矩的人交谈', options: ['A.很有兴趣,并有所得', 'B.介于A、C之间', 'C.他们思想简单,使我厌烦'], factor: 'M', scores: { A: 0, B: 1, C: 2 } },
            { id: 166, question: '我喜欢', options: ['A.有几个有时对我很苛求,但富有感情的朋友', 'B.介于A、C之间', 'C.不受别人的干涉'], factor: 'M', scores: { A: 0, B: 1, C: 2 } },
            { id: 167, question: '如果征求我的意见,我赞同', options: ['A.根绝有心理缺陷的人的生育', 'B.不确定', 'C.将杀人犯判处死刑'], factor: 'N', scores: { A: 2, B: 1, C: 0 } },
            { id: 168, question: '有时我会无缘无故地感到沮丧、痛苦', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'O', scores: { A: 2, B: 1, C: 0 } },
            { id: 169, question: '当与立场相反的人辩论时,我主张', options: ['A.尽量找出基本概念的差异', 'B.不一定', 'C.彼此让步'], factor: 'Q1', scores: { A: 2, B: 1, C: 0 } },
            { id: 170, question: '我一向是重感情而不重理智，因而我的观点常常动摇不定', options: ['A.是的', 'B.大致如此', 'C.不是的'], factor: 'Q1', scores: { A: 0, B: 1, C: 2 } },
            { id: 171, question: '我的学习多依赖于', options: ['A.自己阅读书刊', 'B.介于A、C之间', 'C.参加集体讨论'], factor: 'Q2', scores: { A: 2, B: 1, C: 0 } },
            { id: 172, question: '我宁愿选择一个工资高的工作，不在乎是否有保障，而不愿选择工资低的固定工作', options: ['A.是的', 'B.不太确定', 'C.不是的'], factor: 'Q3', scores: { A: 0, B: 1, C: 2 } },
            { id: 173, question: '在参加讨论时，我总是能守住自己的立场', options: ['A.经常如此', 'B.一般如此', 'C.必要时才会如此'], factor: 'Q3', scores: { A: 2, B: 1, C: 0 } },
            { id: 174, question: '我常常被一些无所谓的小事所烦扰', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 175, question: '我宁愿住在嘈杂的闹市，而不愿住在僻静的郊区', options: ['A.是的', 'B.不太确定', 'C.不是的'], factor: 'Q4', scores: { A: 2, B: 1, C: 0 } },
            { id: 176, question: '下列工作如果任我挑选的话，我愿做', options: ['A.少先队辅导员', 'B.不太确定', 'C.修表工作'], factor: 'A', scores: { A: 2, B: 1, C: 0 } },
            { id: 177, question: '在"一人   事，众人受累"这一填空句中应填', options: ['A.偾', 'B.愤', 'C.喷'], factor: 'B', scores: { A: 1, B: 0, C: 0 } },
            { id: 178, question: '在"望子成龙的家长，往往     苗助长"这一填空句中，我认为应该填', options: ['A.揠', 'B.堰', 'C.偃'], factor: 'B', scores: { A: 1, B: 0, C: 0 } },
            { id: 179, question: '气候的变化并不影响我的情绪', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'C', scores: { A: 2, B: 1, C: 0 } },
            { id: 180, question: '因为我对一切问题都有一些见解，所以大家都认为我是个有头脑的人', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'E', scores: { A: 2, B: 1, C: 0 } },
            { id: 181, question: '我讲话的声音', options: ['A.洪亮', 'B.介于A、C之间', 'C.低沉'], factor: 'E', scores: { A: 2, B: 1, C: 0 } },
            { id: 182, question: '一般人都认为我是个活跃热情的人', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'F', scores: { A: 2, B: 1, C: 0 } },
            { id: 183, question: '我喜欢出差机会较多的工作', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'F', scores: { A: 2, B: 1, C: 0 } },
            { id: 184, question: '我做事严格，力求把事情办得尽善尽美', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'G', scores: { A: 2, B: 1, C: 0 } },
            { id: 185, question: '在取回或归还借的东西时，我总是仔细检查，看是否保持原样', options: ['A.是的', 'B.介于A、C之间', 'C.不是的'], factor: 'G', scores: { A: 2, B: 1, C: 0 } },
            { id: 186, question: '我通常总是精力充沛，忙碌多事', options: ['A.是的', 'B.不一定', 'C.不是的'], factor: 'H', scores: { A: 2, B: 1, C: 0 } },
            { id: 187, question: '我相信自己遗漏或不经心回答上面的任何问题', options: ['A.是的', 'B.不确定', 'C.不是的'], factor: 'none', noScore: true }
        ];

        let currentQuestion = 0;
        let answers = {};
        let isQuickDemo = false;

        // 开始测试
        function startTest() {
            document.getElementById('welcomePage').classList.add('hidden');
            document.getElementById('testPage').classList.remove('hidden');
            loadQuestion();
        }

        // 一键模拟测试
        function quickDemo() {
            isQuickDemo = true;
            // 模拟自动答题
            console.log('开始快速演示...');
            
            // 自动填写答案（根据题目属性随机选择）
            questions.forEach(q => {
                const options = ['A', 'B', 'C'];
                const randomOption = options[Math.floor(Math.random() * 3)];
                answers[q.id] = randomOption;
            });
            
            // 显示加载动画
            document.getElementById('welcomePage').innerHTML = `
                <div class="min-h-screen flex items-center justify-center">
                    <div class="text-center">
                        <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-4"></div>
                        <p class="text-2xl font-bold text-blue-800">正在模拟测试中...</p>
                        <p class="text-gray-600 mt-2">系统正在自动完成所有187道题目</p>
                        <p class="text-sm text-gray-500 mt-2">预计完成时间：2秒</p>
                    </div>
                </div>
            `;
            
            // 延迟2秒后计算结果显示
            setTimeout(() => {
                calculateResults();
            }, 2000);
        }

        // 加载题目
        function loadQuestion() {
            const question = questions[currentQuestion];
            const container = document.getElementById('questionContainer');
            
            let optionsHTML = '';
            question.options.forEach((option, index) => {
                const optionId = ['A', 'B', 'C'][index];
                const checked = answers[question.id] === optionId ? 'checked' : '';
                optionsHTML += `
                    <label class="answer-option block p-4 mb-3 border-2 border-gray-300 rounded-lg cursor-pointer ${checked}" 
                           onclick="selectAnswer(${question.id}, '${optionId}')">
                        <input type="radio" name="answer" value="${optionId}" ${checked} class="mr-3">
                        <span>${option}</span>
                    </label>
                `;
            });

            container.innerHTML = `
                <h2 class="text-2xl font-bold text-blue-800 mb-4">题目 ${question.id} / 187</h2>
                <p class="text-lg text-gray-700 mb-6 whitespace-pre-line">${question.question}</p>
                <div class="space-y-3">
                    ${optionsHTML}
                </div>
            `;

            updateProgress();
            updateNavigationButtons();
        }

        // 选择答案
        function selectAnswer(questionId, optionId) {
            answers[questionId] = optionId;
            
            // 更新选中状态
            const labels = document.querySelectorAll('.answer-option');
            labels.forEach(label => {
                label.classList.remove('selected');
                if (label.querySelector('input').checked) {
                    label.classList.add('selected');
                }
            });
        }

        // 更新进度
        function updateProgress() {
            const totalAnswered = Object.keys(answers).length;
            const progress = (totalAnswered / questions.length) * 100;
            
            document.getElementById('progressText').textContent = `进度: ${totalAnswered} / ${questions.length}`;
            document.getElementById('percentText').textContent = Math.round(progress) + '%';
            document.querySelector('.progress-bar').style.width = progress + '%';
        }

        // 更新导航按钮
        function updateNavigationButtons() {
            document.getElementById('prevBtn').style.display = currentQuestion === 0 ? 'none' : 'block';
            document.getElementById('nextBtn').style.display = currentQuestion === questions.length - 1 ? 'none' : 'block';
            document.getElementById('submitBtn').style.display = currentQuestion === questions.length - 1 ? 'block' : 'none';
        }

        // 上一题
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        // 下一题
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            }
        }

        // 提交测试
        function submitTest() {
            if (Object.keys(answers).length !== questions.length) {
                alert('请完成所有题目后再提交');
                return;
            }
            calculateResults();
        }

        // 计算测试结果
        function calculateResults() {
            // 计算原始分数（只计算有分值的题目）
            const rawScores = {};
            
            questions.forEach(q => {
                // 跳过不计分的题目
                if (q.noScore || q.factor === 'none') return;
                if (!q.scores) return;
                
                if (!rawScores[q.factor]) rawScores[q.factor] = 0;
                
                const answer = answers[q.id];
                if (answer && q.scores[answer] !== undefined) {
                    rawScores[q.factor] += q.scores[answer];
                }
            });

            // 将原始分数转换为Sten分数（1-10）
            // 根据标准16PF计分表进行转换
            const stenScores = {};
            
            // 标准分换算表
            const stenConversion = {
                'A': { 1: [0,1], 2: [2,3], 3: [4,5], 4: [6], 5: [7,8], 6: [9,11], 7: [12,13], 8: [14], 9: [15,16], 10: [17,20] },
                'B': { 1: [0,3], 2: [4], 3: [5], 4: [6], 5: [7], 6: [8], 7: [9], 8: [10], 9: [11], 10: [12,13] },
                'C': { 1: [0,5], 2: [6,7], 3: [8,9], 4: [10,11], 5: [12,13], 6: [14,16], 7: [17,18], 8: [19,20], 9: [21,22], 10: [23,26] },
                'E': { 1: [0,2], 2: [3,4], 3: [5], 4: [6,7], 5: [8,9], 6: [10,12], 7: [13,14], 8: [15,16], 9: [17,18], 10: [19,26] },
                'F': { 1: [0,3], 2: [4], 3: [5,6], 4: [7], 5: [8,9], 6: [10,12], 7: [13,14], 8: [15,16], 9: [17,18], 10: [19,26] },
                'G': { 1: [0,5], 2: [6,7], 3: [8,9], 4: [10], 5: [11,12], 6: [13,14], 7: [15,16], 8: [17], 9: [18], 10: [19,20] },
                'H': { 1: [0,1], 2: [2], 3: [3], 4: [4,6], 5: [7,8], 6: [9,11], 7: [12,14], 8: [15,16], 9: [17,19], 10: [20,26] },
                'I': { 1: [0,5], 2: [6], 3: [7,8], 4: [9], 5: [10,11], 6: [12,13], 7: [14], 8: [15,16], 9: [17], 10: [18,19] },
                'L': { 1: [0,3], 2: [4,5], 3: [6], 4: [7,8], 5: [9,10], 6: [11,12], 7: [13], 8: [14,15], 9: [16], 10: [17,20] },
                'M': { 1: [0,5], 2: [6,7], 3: [8,9], 4: [10,11], 5: [12,13], 6: [14,15], 7: [16,17], 8: [18,19], 9: [20], 10: [21,26] },
                'N': { 1: [0,2], 2: [3], 3: [4], 4: [5,6], 5: [7,8], 6: [9,10], 7: [11], 8: [12,13], 9: [14], 10: [15,20] },
                'O': { 1: [0,2], 2: [3,4], 3: [5,6], 4: [7,8], 5: [9,10], 6: [11,12], 7: [13,14], 8: [15,16], 9: [17,18], 10: [19,26] },
                'Q1': { 1: [0,4], 2: [5], 3: [6,7], 4: [8], 5: [9,10], 6: [11,12], 7: [13], 8: [14], 9: [15], 10: [16,20] },
                'Q2': { 1: [0,5], 2: [6,7], 3: [8], 4: [9,10], 5: [11,12], 6: [13,14], 7: [15], 8: [16,17], 9: [18], 10: [19,20] },
                'Q3': { 1: [0,4], 2: [5,6], 3: [7,8], 4: [9,10], 5: [11,12], 6: [13,14], 7: [15], 8: [16,17], 9: [18], 10: [19,20] },
                'Q4': { 1: [0,2], 2: [3,4], 3: [5,6], 4: [7,8], 5: [9,11], 6: [12,14], 7: [15,16], 8: [17,19], 9: [20,21], 10: [22,26] }
            };
            
            // 每个因子的Sten转换
            Object.keys(rawScores).forEach(factor => {
                const rawScore = rawScores[factor];
                let sten = 1;
                
                if (factor in stenConversion) {
                    const table = stenConversion[factor];
                    // 从高分到低分查找
                    for (let i = 10; i >= 1; i--) {
                        const range = table[i];
                        if (range) {
                            if (range.length === 1) {
                                if (rawScore === range[0]) {
                                    sten = i;
                                    break;
                                }
                            } else if (range.length === 2) {
                                if (rawScore >= range[0] && rawScore <= range[1]) {
                                    sten = i;
                                    break;
                                }
                            }
                        }
                    }
                }
                
                stenScores[factor] = sten;
            });

            // 计算次元人格分数（使用标准公式）
            const dimensionScores = {
                DIM1: ((2 * stenScores['A'] + 3 * stenScores['E'] + 4 * stenScores['F'] + 5 * stenScores['H']) - (2 * stenScores['A'] * stenScores['Q2'] + 11)) / 10, // 内向-外向
                DIM2: stenScores['C'] + stenScores['F'] + (11 - stenScores['O']) + (11 - stenScores['Q4']), // 心理健康
                DIM3: stenScores['B'] + stenScores['G'] + stenScores['Q3'] + (11 - stenScores['F']), // 学习成长
                DIM4: 2 * stenScores['Q3'] + 2 * stenScores['G'] + 2 * stenScores['C'] + stenScores['E'] + stenScores['N'] + stenScores['Q1'] + stenScores['Q2'], // 专业成就
                DIM5: 2 * (11 - stenScores['A']) + 2 * stenScores['B'] + stenScores['E'] + 2 * (11 - stenScores['F']) + stenScores['H'] + 2 * stenScores['I'] + stenScores['M'] + (11 - stenScores['N'] + stenScores['Q1'] + 2 * stenScores['Q2']) // 创造能力
            };

            // 保存结果到localStorage
            localStorage.setItem('stenScores', JSON.stringify(stenScores));
            localStorage.setItem('dimensionScores', JSON.stringify(dimensionScores));
            localStorage.setItem('rawScores', JSON.stringify(rawScores));
            localStorage.setItem('isQuickDemo', isQuickDemo);

            // 跳转到结果页面
            window.location.href = '16PF-测试结果设计.html';
        }

        // 计分规则验证和显示函数
        function showScoringRules() {
            console.log('=== 16PF 计分规则检查 ===');
            const factorGroups = {};
            
            questions.forEach(q => {
                if (q.factor !== 'none' && q.scores && !q.noScore) {
                    if (!factorGroups[q.factor]) {
                        factorGroups[q.factor] = [];
                    }
                    factorGroups[q.factor].push({
                        id: q.id,
                        question: q.question,
                        scores: q.scores
                    });
                }
            });
            
            Object.keys(factorGroups).forEach(factor => {
                console.log(`\n【${factor}因子】共${factorGroups[factor].length}题`);
                factorGroups[factor].forEach(q => {
                    console.log(`题目${q.id}: A=${q.scores.A}分, B=${q.scores.B}分, C=${q.scores.C}分`);
                });
            });
            
            console.log('\n=== 计分规则检查完成 ===');
        }

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('测试页面已加载，共有题目:', questions.length);
            // 显示计分规则供检查
            showScoringRules();
        });
    </script>
</body>
</html>


